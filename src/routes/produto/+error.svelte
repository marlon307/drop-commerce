<script lang="ts">
  import { page } from "$app/stores";
</script>

<svelte:head>
  <title>{$page.error?.message} - {$page.status}</title>
</svelte:head>

<h1
  class="mx-auto mt-[25vh] w-fit max-w-xl text-center text-7xl font-bold text-neutral-100"
>
  Ops! Produto n√£o encontrado
</h1>
<div class="mt-8 flex w-full items-center justify-center">
  <div class="animate-glitch text-6xl text-blue-600" title="404">
    {$page.status}
  </div>
</div>

<!-- https://codepen.io/pgalor/pen/OeRWJQ -->

<style lang="postcss">
  .animate-glitch {
    animation: glitch 1s linear infinite;
  }
  @keyframes glitch {
    2%,
    64% {
      transform: translate(2px, 0) skew(0deg);
    }
    4%,
    60% {
      transform: translate(-2px, 0) skew(0deg);
    }
    62% {
      transform: translate(0, 0) skew(5deg);
    }
  }
  .animate-glitch:before,
  .animate-glitch:after {
    content: attr(title);
    position: absolute;
    left: 0;
  }
  .animate-glitch:before {
    animation: glitchTop 1s linear infinite;
    clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
    -webkit-clip-path: polygon(0 0, 100% 0, 100% 33%, 0 33%);
  }
  @keyframes glitchTop {
    2%,
    64% {
      transform: translate(2px, -2px);
    }
    4%,
    60% {
      transform: translate(-2px, 2px);
    }
    62% {
      transform: translate(13px, -1px) skew(-13deg);
    }
  }
  .animate-glitch:after {
    animation: glitchBotom 1.5s linear infinite;
    clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
    -webkit-clip-path: polygon(0 67%, 100% 67%, 100% 100%, 0 100%);
  }
  @keyframes glitchBotom {
    2%,
    64% {
      transform: translate(-2px, 0);
    }
    4%,
    60% {
      transform: translate(-2px, 0);
    }
    62% {
      transform: translate(-22px, 5px) skew(21deg);
    }
  }
</style>
