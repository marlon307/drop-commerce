<script lang="ts">
  import { page } from "$app/state";
  import Search from "./Search/index.svelte";
  import { Cart, CategoriesSearch, User } from "./Menu";
</script>

<header class="flex items-center justify-between gap-4 bg-neutral-900 p-4">
  <CategoriesSearch collectionsList={page.data.collections} />
  <div class="hidden gap-6 md:flex">
    <div class="block w-max">
      <a href="/" class="flex items-center justify-center gap-3">
        <span
          class="flex size-10 items-center justify-center rounded-xl border border-neutral-700 bg-black p-1"
        >
          <svg
            width="32"
            height="32"
            viewBox="0 0 238 226"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            ><path
              d="M112 210C112 218.836 104.837 226 96 226C87.1634 226 80 218.836 80 210C80 201.163 87.1634 194 96 194C104.837 194 112 201.163 112 210Z"
              fill="#fff"
            ></path><path
              d="M217 210C217 218.836 209.837 226 201 226C192.163 226 185 218.836 185 210C185 201.163 192.163 194 201 194C209.837 194 217 201.163 217 210Z"
              fill="#fff"
            ></path><path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M224.5 52.9997C231.68 52.9997 237.5 58.82 237.5 65.9997V99.9997C237.5 129.127 224.208 151.312 217.783 159.455C198.167 185.363 169.443 194.098 155.758 195.396C141.374 198.01 127.915 196.444 116.957 193.489C99.5807 188.803 81.2998 179.744 68.7325 164.243C56.4187 149.056 50.1596 128.615 46.818 113.215C46.2587 110.637 45.77 107.991 45.3239 105.575C45.2292 105.062 45.1363 104.559 45.0451 104.069C44.5026 101.157 43.9919 98.5599 43.3757 96.1147C42.1381 91.2029 40.6685 87.7535 38.6321 85.1734C36.8588 82.9265 35.1936 82.0661 31.8697 81.6188C28.7734 81.2021 25.7464 81.2746 21.4354 81.3778C19.0804 81.4342 16.3421 81.4997 13 81.4997C5.8203 81.4997 0 75.6794 0 68.4997C0 61.32 5.8203 55.4997 13 55.4997C14.6507 55.4997 16.4905 55.4584 18.4339 55.4147C23.8796 55.2923 30.1396 55.1516 35.3374 55.8511C43.8538 56.9972 52.2389 60.4466 59.0413 69.0655C64.3116 75.743 66.9343 83.2002 68.5877 89.762C69.4171 93.0536 70.0515 96.3347 70.6053 99.3077C70.7127 99.8841 70.8165 100.446 70.9181 100.995C71.3612 103.392 71.7612 105.556 72.2268 107.702C75.3328 122.016 80.5519 137.538 88.9284 147.869C96.9199 157.725 109.586 164.572 123.728 168.386C131.975 170.61 141.625 171.623 151.568 169.729C152.037 169.64 152.511 169.576 152.988 169.539C160.937 168.918 182.703 162.784 197.122 143.671C197.188 143.583 197.255 143.496 197.323 143.411C201.273 138.441 211.5 121.711 211.5 99.9997V65.9997C211.5 58.82 217.32 52.9997 224.5 52.9997Z"
              fill="#fff"
            ></path><path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M197.454 85.8377C194.144 81.5144 190.324 77.7984 185.966 74.8556C187.797 72.1766 189.29 69.264 190.453 66.1571C193.088 59.2425 193.428 51.6932 192.404 44.11C191.184 35.0853 187.965 26.8305 182.621 19.6368C176.99 12.0159 169.353 6.63973 160.298 3.33522C150.765 -0.189405 140.019 -0.722948 128.653 0.812643L84.4568 6.78398C74.0579 8.18897 66.7669 17.758 68.1719 28.1569L76.1206 86.9888C78.7378 115.903 88.5797 135.209 101.216 147.001C113.85 158.791 129.705 163.085 145.209 161.814C176.277 159.266 206.351 134.408 205.609 102.997C203.966 96.6973 201.323 90.8915 197.454 85.8377ZM126.058 131.517L122.802 107.421L145.215 104.393C149.726 103.783 153.038 104.252 155.54 105.22L155.587 105.238L155.635 105.256C158.523 106.348 160.506 107.853 161.973 109.699L161.993 109.725L162.013 109.75C163.544 111.657 164.453 113.753 164.796 116.297C165.141 118.851 164.622 120.94 162.628 123.349C161.625 124.556 157.952 127.208 147.63 128.603L126.058 131.517ZM136.609 63.9165L117.277 66.5284L114.324 44.673L134.216 41.9854C142.08 40.9229 145.228 42.4003 146.31 43.2344L146.337 43.2554L146.365 43.2762C148.557 44.9462 149.712 46.8786 150.11 49.8242C150.487 52.6149 150.072 54.5141 149.339 55.9954L149.314 56.0458L149.289 56.0963C148.391 57.9515 147.037 59.5543 144.904 60.9662L144.881 60.9818L144.857 60.9975C142.764 62.3962 140.11 63.4435 136.609 63.9165Z"
              fill="#2563eb"
            ></path></svg
          >
        </span>
        <span class="text-sm font-medium uppercase text-neutral-100">
          BIG UTI
        </span>
      </a>
    </div>
    <ul
      class="flex items-center justify-start gap-6 overflow-hidden truncate text-sm"
    >
      <li>
        <a
          href="/produtos"
          class="text-neutral-400 underline-offset-4 hover:text-neutral-300 hover:underline"
        >
          Tudo
        </a>
      </li>
      {#each page.data.collections.slice(0, 2) as colletion (colletion.handle)}
        <li>
          <a
            href={`/produtos/${colletion.handle}`}
            class="text-neutral-400 underline-offset-4 hover:text-neutral-300 hover:underline"
          >
            {colletion.title}
          </a>
        </li>
      {/each}
    </ul>
  </div>
  <div class="md:hidden">
    <a href="/" class="flex items-center justify-center gap-3">
      <span
        class="flex size-10 items-center justify-center rounded-xl border border-neutral-700 bg-black p-1"
      >
        <svg
          width="32"
          height="32"
          viewBox="0 0 238 226"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          ><path
            d="M112 210C112 218.836 104.837 226 96 226C87.1634 226 80 218.836 80 210C80 201.163 87.1634 194 96 194C104.837 194 112 201.163 112 210Z"
            fill="#fff"
          ></path><path
            d="M217 210C217 218.836 209.837 226 201 226C192.163 226 185 218.836 185 210C185 201.163 192.163 194 201 194C209.837 194 217 201.163 217 210Z"
            fill="#fff"
          ></path><path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M224.5 52.9997C231.68 52.9997 237.5 58.82 237.5 65.9997V99.9997C237.5 129.127 224.208 151.312 217.783 159.455C198.167 185.363 169.443 194.098 155.758 195.396C141.374 198.01 127.915 196.444 116.957 193.489C99.5807 188.803 81.2998 179.744 68.7325 164.243C56.4187 149.056 50.1596 128.615 46.818 113.215C46.2587 110.637 45.77 107.991 45.3239 105.575C45.2292 105.062 45.1363 104.559 45.0451 104.069C44.5026 101.157 43.9919 98.5599 43.3757 96.1147C42.1381 91.2029 40.6685 87.7535 38.6321 85.1734C36.8588 82.9265 35.1936 82.0661 31.8697 81.6188C28.7734 81.2021 25.7464 81.2746 21.4354 81.3778C19.0804 81.4342 16.3421 81.4997 13 81.4997C5.8203 81.4997 0 75.6794 0 68.4997C0 61.32 5.8203 55.4997 13 55.4997C14.6507 55.4997 16.4905 55.4584 18.4339 55.4147C23.8796 55.2923 30.1396 55.1516 35.3374 55.8511C43.8538 56.9972 52.2389 60.4466 59.0413 69.0655C64.3116 75.743 66.9343 83.2002 68.5877 89.762C69.4171 93.0536 70.0515 96.3347 70.6053 99.3077C70.7127 99.8841 70.8165 100.446 70.9181 100.995C71.3612 103.392 71.7612 105.556 72.2268 107.702C75.3328 122.016 80.5519 137.538 88.9284 147.869C96.9199 157.725 109.586 164.572 123.728 168.386C131.975 170.61 141.625 171.623 151.568 169.729C152.037 169.64 152.511 169.576 152.988 169.539C160.937 168.918 182.703 162.784 197.122 143.671C197.188 143.583 197.255 143.496 197.323 143.411C201.273 138.441 211.5 121.711 211.5 99.9997V65.9997C211.5 58.82 217.32 52.9997 224.5 52.9997Z"
            fill="#fff"
          ></path><path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M197.454 85.8377C194.144 81.5144 190.324 77.7984 185.966 74.8556C187.797 72.1766 189.29 69.264 190.453 66.1571C193.088 59.2425 193.428 51.6932 192.404 44.11C191.184 35.0853 187.965 26.8305 182.621 19.6368C176.99 12.0159 169.353 6.63973 160.298 3.33522C150.765 -0.189405 140.019 -0.722948 128.653 0.812643L84.4568 6.78398C74.0579 8.18897 66.7669 17.758 68.1719 28.1569L76.1206 86.9888C78.7378 115.903 88.5797 135.209 101.216 147.001C113.85 158.791 129.705 163.085 145.209 161.814C176.277 159.266 206.351 134.408 205.609 102.997C203.966 96.6973 201.323 90.8915 197.454 85.8377ZM126.058 131.517L122.802 107.421L145.215 104.393C149.726 103.783 153.038 104.252 155.54 105.22L155.587 105.238L155.635 105.256C158.523 106.348 160.506 107.853 161.973 109.699L161.993 109.725L162.013 109.75C163.544 111.657 164.453 113.753 164.796 116.297C165.141 118.851 164.622 120.94 162.628 123.349C161.625 124.556 157.952 127.208 147.63 128.603L126.058 131.517ZM136.609 63.9165L117.277 66.5284L114.324 44.673L134.216 41.9854C142.08 40.9229 145.228 42.4003 146.31 43.2344L146.337 43.2554L146.365 43.2762C148.557 44.9462 149.712 46.8786 150.11 49.8242C150.487 52.6149 150.072 54.5141 149.339 55.9954L149.314 56.0458L149.289 56.0963C148.391 57.9515 147.037 59.5543 144.904 60.9662L144.881 60.9818L144.857 60.9975C142.764 62.3962 140.11 63.4435 136.609 63.9165Z"
            fill="#2563eb"
          ></path></svg
        >
      </span>
      <span class="text-sm font-medium uppercase text-neutral-100">
        BIG UTI
      </span>
    </a>
  </div>
  <div class="mx-auto hidden w-full max-w-4xl px-12 md:block xl:w-full">
    <Search idSearch="search" />
  </div>
  <nav>
    <ul class="flex gap-4">
      <li>
        <User />
      </li>
      <li>
        <Cart />
      </li>
    </ul>
  </nav>
</header>
